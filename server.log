
> rest-express@1.0.0 dev
> NODE_ENV=development tsx server/index.ts

10:28:23 PM [express] serving on port 5000
10:28:36 PM [express] POST /api/auth/register 201 in 294ms :: {"message":"User created successfully"}
10:28:36 PM [express] POST /api/auth/login 200 in 447ms :: {"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJjMDc4NDg4My04NmY5LTQyYWMtOWY1YS1kMzFjZTA0MjkxMjUiLCJlbWFpbCI6ImFsaWNlMTc2Mzc1NjkxNTg5N0B0ZXN0LmNvbSIsImlhdCI6MTc2Mzc1NjkxNiwiZXhw...
10:28:37 PM [express] POST /api/auth/register 201 in 320ms :: {"message":"User created successfully"}
10:28:37 PM [express] POST /api/auth/login 200 in 254ms :: {"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI3MjMwNzI2ZS05NjM3LTQ0MWUtODZjMi1kOGZkNzVkOTBlMDIiLCJlbWFpbCI6ImJvYjE3NjM3NTY5MTU4OTdAdGVzdC5jb20iLCJpYXQiOjE3NjM3NTY5MTcsImV4cCI6...
10:28:37 PM [express] POST /api/auth/register 201 in 255ms :: {"message":"User created successfully"}
10:28:37 PM [express] POST /api/auth/login 200 in 247ms :: {"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJlYTQzYTBjOC00NWI1LTQ2MTMtOTU3OS00MTQ1NmM1OWY5ZWMiLCJlbWFpbCI6ImNoYXJsaWUxNzYzNzU2OTE1ODk3QHRlc3QuY29tIiwiaWF0IjoxNzYzNzU2OTE3LCJl...
10:28:37 PM [express] POST /api/auth/register 400 in 3ms :: {"message":"User with this email already exists"}
10:28:37 PM [express] POST /api/auth/register 400 in 2ms :: {"message":"Validation error","errors":[{"field":"email","message":"Invalid email format"}]}
10:28:37 PM [express] POST /api/auth/register 400 in 2ms :: {"message":"Validation error","errors":[{"field":"password","message":"Password must be at least 6 characters"}]}
10:28:38 PM [express] POST /api/auth/login 400 in 254ms :: {"message":"Invalid credentials"}
10:28:38 PM [express] POST /api/auth/login 400 in 5ms :: {"message":"Invalid credentials"}
10:28:38 PM [express] POST /api/auth/login 400 in 1ms :: {"message":"Validation error","errors":[{"field":"password","message":"Required"}]}
10:28:38 PM [express] GET /api/users/me 200 in 11ms :: {"id":"c0784883-86f9-42ac-9f5a-d31ce0429125","name":"Alice Test","email":"[filtered]","avatarUrl":null,"avatarThumbnailUrl":null,"age":null,"city":null,"phone":"[filtered]","bio":null,"languages":n...
10:28:38 PM [express] GET /api/users/me 200 in 23ms :: {"id":"7230726e-9637-441e-86c2-d8fd75d90e02","name":"Bob Test","email":"[filtered]","avatarUrl":null,"avatarThumbnailUrl":null,"age":null,"city":null,"phone":"[filtered]","bio":null,"languages":nul...
10:28:38 PM [express] GET /api/users/me 200 in 32ms :: {"id":"ea43a0c8-45b5-4613-9579-41456c59f9ec","name":"Charlie Test","email":"[filtered]","avatarUrl":null,"avatarThumbnailUrl":null,"age":null,"city":null,"phone":"[filtered]","bio":null,"languages"...
10:28:38 PM [express] GET /api/users/me 401 in 8ms :: {"message":"Access token required"}
10:28:38 PM [express] GET /api/users/me 401 in 4ms :: {"message":"Invalid or expired token"}
10:28:38 PM [express] PATCH /api/users/profile 200 in 63ms :: {"id":"c0784883-86f9-42ac-9f5a-d31ce0429125","name":"Alice Test","email":"[filtered]","avatarUrl":null,"avatarThumbnailUrl":null,"age":28,"city":"Kyiv","phone":"[filtered]","bio":"I love hiking and...
10:28:38 PM [express] PATCH /api/users/profile 200 in 91ms :: {"id":"7230726e-9637-441e-86c2-d8fd75d90e02","name":"Bob Test","email":"[filtered]","avatarUrl":null,"avatarThumbnailUrl":null,"age":25,"city":"Lviv","phone":"[filtered]","bio":"Adventure seeker","...
10:28:38 PM [express] PATCH /api/users/profile 401 in 5ms :: {"message":"Access token required"}
Error creating avatar thumbnail: Error: pngload_buffer: libspng read error
    at Sharp.toBuffer (/home/maksidd/Documents/projects/wayzer4/node_modules/sharp/lib/output.js:163:17)
    at createAvatarThumbnailBuffer (/home/maksidd/Documents/projects/wayzer4/server/middleware/upload.ts:54:8)
    at <anonymous> (/home/maksidd/Documents/projects/wayzer4/server/routes/users.ts:94:43)
    at Layer.handle [as handle_request] (/home/maksidd/Documents/projects/wayzer4/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/maksidd/Documents/projects/wayzer4/node_modules/express/lib/router/route.js:149:13)
    at done (/home/maksidd/Documents/projects/wayzer4/node_modules/multer/lib/make-middleware.js:59:7)
    at indicateDone (/home/maksidd/Documents/projects/wayzer4/node_modules/multer/lib/make-middleware.js:63:68)
    at Multipart.<anonymous> (/home/maksidd/Documents/projects/wayzer4/node_modules/multer/lib/make-middleware.js:182:7)
    at Multipart.emit (node:events:517:28)
    at emitCloseNT (node:internal/streams/destroy:132:10)
10:28:45 PM [express] POST /api/users/avatar 200 in 7213ms :: {"message":"Avatar uploaded successfully","avatarUrl":"https://pub-44e6035f5a5044aebecc85349eb121ab.r2.dev/avatars/c0784883-86f9-42ac-9f5a-d31ce0429125_ccce5305fa3de7070c616dfc42e443f5.png","avatar...
10:28:46 PM [express] POST /api/users/photos 200 in 813ms :: {"message":"Photos uploaded successfully","photoUrls":["https://pub-44e6035f5a5044aebecc85349eb121ab.r2.dev/photos/c0784883-86f9-42ac-9f5a-d31ce0429125_6dc7d901b762155f135ea22431b409e4.jpg"],"user"...
10:28:46 PM [express] GET /api/users/c0784883-86f9-42ac-9f5a-d31ce0429125 200 in 4ms :: {"id":"c0784883-86f9-42ac-9f5a-d31ce0429125","name":"Alice Test","avatarUrl":"https://pub-44e6035f5a5044aebecc85349eb121ab.r2.dev/avatars/c0784883-86f9-42ac-9f5a-d31ce0429125_ccce5305fa3de7070c616d...
10:28:46 PM [express] GET /api/users/00000000-0000-0000-0000-000000000000 404 in 4ms :: {"message":"User not found"}
10:28:46 PM [express] DELETE /api/users/photos/c0784883-86f9-42ac-9f5a-d31ce0429125_6dc7d901b762155f135ea22431b409e4.jpg 200 in 64ms :: {"message":"Photo deleted successfully","user":{"id":"c0784883-86f9-42ac-9f5a-d31ce0429125","name":"Alice Test","email":"[filtered]","avatarUrl":"https://pub-44e6035f5a5044aebecc85349eb121ab.r2.dev...
10:28:46 PM [express] GET /api/trip-types 200 in 15ms :: [{"id":"walk","ordering":1},{"id":"car","ordering":2},{"id":"motorcycle","ordering":3}]
10:28:46 PM [express] GET /api/cities 200 in 17ms :: [{"id":210,"name":"New York City","priority":100},{"id":211,"name":"Los Angeles","priority":95},{"id":212,"name":"Chicago","priority":90}]
10:28:46 PM [express] GET /api/cities 200 in 26ms :: []
10:28:46 PM [express] GET /api/cities 200 in 7ms :: [{"id":210,"name":"New York City","priority":100},{"id":211,"name":"Los Angeles","priority":95},{"id":212,"name":"Chicago","priority":90}]
10:28:48 PM [express] POST /api/trips/upload-main-photo 200 in 1317ms :: {"message":"Photo uploaded successfully","photoUrl":"https://pub-44e6035f5a5044aebecc85349eb121ab.r2.dev/photos/c0784883-86f9-42ac-9f5a-d31ce0429125_9ebcf510d4ff6813e251af03d7d612c1.jpg"}
10:28:48 PM [express] POST /api/trips 201 in 26ms :: {"id":"f09eaff6-6e89-45df-b869-b76a0bb3e3be","title":"Mountain Hiking Adventure","description":"Join us for an amazing hike in the Carpathians!","type":"mountains","city":"Ivano-Frankivsk","locatio...
10:28:48 PM [express] POST /api/trips 201 in 28ms :: {"id":"9f9ba886-0eb3-4f56-abb6-72c412f6455d","title":"City Walk in Kyiv","description":"Explore the beautiful streets of Kyiv","type":"walk","city":"Kyiv","location":{"lat":50.4501,"lng":30.5234},"...
10:28:48 PM [express] POST /api/trips 401 in 1ms :: {"message":"Access token required"}
10:28:48 PM [express] POST /api/trips 400 in 6ms :: {"message":"Validation error","errors":[{"field":"description","message":"Required"},{"field":"type","message":"Required"},{"field":"city","message":"Required"}]}
10:28:48 PM [express] GET /api/trips 200 in 178ms :: [{"id":"9f9ba886-0eb3-4f56-abb6-72c412f6455d","title":"City Walk in Kyiv","description":"Explore the beautiful streets of Kyiv","type":"walk","city":"Kyiv","location":{"lat":50.4501,"lng":30.5234},...
10:28:48 PM [express] GET /api/trips 200 in 16ms :: [{"id":"f09eaff6-6e89-45df-b869-b76a0bb3e3be","title":"Mountain Hiking Adventure","description":"Join us for an amazing hike in the Carpathians!","type":"mountains","city":"Ivano-Frankivsk","locati...
10:28:48 PM [express] GET /api/trips 200 in 20ms :: [{"id":"9f9ba886-0eb3-4f56-abb6-72c412f6455d","title":"City Walk in Kyiv","description":"Explore the beautiful streets of Kyiv","type":"walk","city":"Kyiv","location":{"lat":50.4501,"lng":30.5234},...
10:28:48 PM [express] GET /api/trips 200 in 30ms :: [{"id":"9f9ba886-0eb3-4f56-abb6-72c412f6455d","title":"City Walk in Kyiv","description":"Explore the beautiful streets of Kyiv","type":"walk","city":"Kyiv","location":{"lat":50.4501,"lng":30.5234},...
10:28:48 PM [express] GET /api/trips/f09eaff6-6e89-45df-b869-b76a0bb3e3be 200 in 12ms :: {"id":"f09eaff6-6e89-45df-b869-b76a0bb3e3be","title":"Mountain Hiking Adventure","description":"Join us for an amazing hike in the Carpathians!","type":"mountains","city":"Ivano-Frankivsk","locatio...
10:28:48 PM [express] GET /api/trips/00000000-0000-0000-0000-000000000000 404 in 16ms :: {"message":"Trip not found"}
10:28:48 PM [express] GET /api/trips/f09eaff6-6e89-45df-b869-b76a0bb3e3be/status 200 in 10ms :: {"status":"approved"}
10:28:49 PM [express] POST /api/trips/f09eaff6-6e89-45df-b869-b76a0bb3e3be/photos 200 in 919ms :: {"message":"Photos uploaded and added to trip successfully","photoUrls":["https://pub-44e6035f5a5044aebecc85349eb121ab.r2.dev/photos/c0784883-86f9-42ac-9f5a-d31ce0429125_ea056051cc198502d3c2c17742c...
10:28:49 PM [express] GET /api/trips/f09eaff6-6e89-45df-b869-b76a0bb3e3be/participants 200 in 110ms :: [{"id":"c0784883-86f9-42ac-9f5a-d31ce0429125","name":"Alice Test","email":"[filtered]","avatarUrl":"https://pub-44e6035f5a5044aebecc85349eb121ab.r2.dev/avatars/c0784883-86f9-42ac-9f5a-d31ce0429125_...
10:28:50 PM [express] POST /api/trips2/f09eaff6-6e89-45df-b869-b76a0bb3e3be/join 200 in 160ms :: {"message":"Trip application submitted","status":"pending"}
10:28:50 PM [express] GET /api/trips/f09eaff6-6e89-45df-b869-b76a0bb3e3be/status 200 in 54ms :: {"status":"pending"}
10:28:50 PM [express] GET /api/trips/f09eaff6-6e89-45df-b869-b76a0bb3e3be/status/7230726e-9637-441e-86c2-d8fd75d90e02 200 in 123ms :: {"status":"pending"}
10:28:50 PM [express] POST /api/trips/f09eaff6-6e89-45df-b869-b76a0bb3e3be/accept/7230726e-9637-441e-86c2-d8fd75d90e02 200 in 297ms :: {"message":"Request accepted"}
10:28:50 PM [express] GET /api/trips/f09eaff6-6e89-45df-b869-b76a0bb3e3be/status 200 in 22ms :: {"status":"approved"}
10:28:50 PM [express] POST /api/trips2/f09eaff6-6e89-45df-b869-b76a0bb3e3be/join 200 in 55ms :: {"message":"Trip application submitted","status":"pending"}
10:28:50 PM [express] POST /api/trips/f09eaff6-6e89-45df-b869-b76a0bb3e3be/reject/ea43a0c8-45b5-4613-9579-41456c59f9ec 200 in 92ms :: {"message":"Request rejected"}
10:28:50 PM [express] DELETE /api/trips/f09eaff6-6e89-45df-b869-b76a0bb3e3be/leave 200 in 40ms :: {"message":"Successfully left trip"}
10:28:50 PM [express] POST /api/trips2/f09eaff6-6e89-45df-b869-b76a0bb3e3be/join 401 in 2ms :: {"message":"Access token required"}
10:28:50 PM [express] POST /api/trips2/f09eaff6-6e89-45df-b869-b76a0bb3e3be/join 200 in 54ms :: {"message":"Trip application submitted","status":"pending"}
10:28:50 PM [express] POST /api/trips/f09eaff6-6e89-45df-b869-b76a0bb3e3be/accept/7230726e-9637-441e-86c2-d8fd75d90e02 403 in 40ms :: {"message":"Only trip creator can accept requests"}
10:28:50 PM [express] POST /api/favorites/f09eaff6-6e89-45df-b869-b76a0bb3e3be 201 in 50ms :: {"message":"Added to favorites"}
10:28:51 PM [express] GET /api/favorites/f09eaff6-6e89-45df-b869-b76a0bb3e3be/status 200 in 33ms :: {"isFavorite":true}
10:28:51 PM [express] GET /api/favorites 200 in 44ms :: [{"id":"f09eaff6-6e89-45df-b869-b76a0bb3e3be","title":"Mountain Hiking Adventure","description":"Join us for an amazing hike in the Carpathians!","city":"Ivano-Frankivsk","location":{"lat":48.9226,...
10:28:51 PM [express] POST /api/favorites/9f9ba886-0eb3-4f56-abb6-72c412f6455d 201 in 60ms :: {"message":"Added to favorites"}
10:28:51 PM [express] DELETE /api/favorites/f09eaff6-6e89-45df-b869-b76a0bb3e3be 200 in 80ms :: {"message":"Removed from favorites"}
10:28:51 PM [express] GET /api/favorites/f09eaff6-6e89-45df-b869-b76a0bb3e3be/status 200 in 34ms :: {"isFavorite":false}
10:28:51 PM [express] POST /api/favorites/f09eaff6-6e89-45df-b869-b76a0bb3e3be 401 in 4ms :: {"message":"Access token required"}
10:28:51 PM [express] POST /api/favorites/00000000-0000-0000-0000-000000000000 404 in 48ms :: {"message":"Trip not found"}
10:28:51 PM [express] GET /api/my-trips 200 in 433ms :: []
10:28:52 PM [express] GET /api/my-trips 200 in 984ms :: [{"id":"f09eaff6-6e89-45df-b869-b76a0bb3e3be","title":"Mountain Hiking Adventure","description":"Join us for an amazing hike in the Carpathians!","type":"mountains","city":"Ivano-Frankivsk","locati...
10:28:52 PM [express] GET /api/my-trips 401 in 1ms :: {"message":"Access token required"}
10:28:53 PM [express] POST /api/messages2 201 in 529ms :: {"id":"7a6da79b-015e-4eff-8c93-d6d84e915ba8","chatId":"5211d620-8e85-4791-b9d9-f66fc7d6fac1","senderId":"7230726e-9637-441e-86c2-d8fd75d90e02","text":"Hi Alice! I would like to join your trip!","ty...
10:28:53 PM [express] GET /api/messages/conversations2 200 in 138ms :: {"requested":[],"private":[{"chatId":"5211d620-8e85-4791-b9d9-f66fc7d6fac1","type":"private","status":"active","source":"[filtered]","lastMessage":"[filtered]","unreadCount":1}],"public":[{"chatId"...
10:28:53 PM [express] GET /api/messages/conversations2 200 in 93ms :: {"requested":[],"private":[{"chatId":"5211d620-8e85-4791-b9d9-f66fc7d6fac1","type":"private","status":"active","source":"[filtered]","lastMessage":"[filtered]","unreadCount":0}],"public":[{"chatId"...
10:28:53 PM [express] GET /api/messages2/5211d620-8e85-4791-b9d9-f66fc7d6fac1 200 in 107ms :: [{"id":"7a6da79b-015e-4eff-8c93-d6d84e915ba8","chatId":"5211d620-8e85-4791-b9d9-f66fc7d6fac1","senderId":"7230726e-9637-441e-86c2-d8fd75d90e02","text":"Hi Alice! I would like to join your trip!","t...
10:28:53 PM [express] GET /api/messages/conversations2 200 in 70ms :: {"requested":[],"private":[{"chatId":"5211d620-8e85-4791-b9d9-f66fc7d6fac1","type":"private","status":"active","source":"[filtered]","lastMessage":"[filtered]","unreadCount":0}],"public":[{"chatId"...
10:28:54 PM [express] POST /api/messages2 201 in 115ms :: {"id":"383a764c-8f77-447f-9ea2-ab99c8a9a882","chatId":"5211d620-8e85-4791-b9d9-f66fc7d6fac1","senderId":"c0784883-86f9-42ac-9f5a-d31ce0429125","text":"Hi Bob! Sure, I would be happy to have you joi...
10:28:54 PM [express] GET /api/messages/conversations2 200 in 62ms :: {"requested":[],"private":[{"chatId":"5211d620-8e85-4791-b9d9-f66fc7d6fac1","type":"private","status":"active","source":"[filtered]","lastMessage":"[filtered]","unreadCount":1}],"public":[{"chatId"...
10:28:54 PM [express] POST /api/messages2 201 in 91ms :: {"id":"0a22b076-5b39-4a08-a6b2-f717ce40120c","chatId":"5211d620-8e85-4791-b9d9-f66fc7d6fac1","senderId":"c0784883-86f9-42ac-9f5a-d31ce0429125","text":"By the way, don't forget to bring hiking boots...
10:28:54 PM [express] POST /api/messages2 201 in 148ms :: {"id":"d9ebf907-31b4-4322-ac0d-703637a585d9","chatId":"5211d620-8e85-4791-b9d9-f66fc7d6fac1","senderId":"c0784883-86f9-42ac-9f5a-d31ce0429125","text":"And water bottles!","type":"general","tripId":...
10:28:54 PM [express] POST /api/messages2 201 in 110ms :: {"id":"f59f7d19-3488-488d-9b00-7efa975d98a8","chatId":"5211d620-8e85-4791-b9d9-f66fc7d6fac1","senderId":"c0784883-86f9-42ac-9f5a-d31ce0429125","text":"See you there! ðŸ˜Š","type":"general","tripId":n...
10:28:54 PM [express] GET /api/messages/conversations2 200 in 98ms :: {"requested":[],"private":[{"chatId":"5211d620-8e85-4791-b9d9-f66fc7d6fac1","type":"private","status":"active","source":"[filtered]","lastMessage":"[filtered]","unreadCount":4}],"public":[{"chatId"...
10:28:54 PM [express] POST /api/messages/mark-unread 204 in 141ms
10:28:55 PM [express] POST /api/messages2 201 in 166ms :: {"id":"10882c30-82ab-43a0-9eb6-665a3a8dfa03","chatId":"230283bf-5565-4117-912a-a0448016a2bd","senderId":"ea43a0c8-45b5-4613-9579-41456c59f9ec","text":"Hello Alice! Can you recommend good hiking spo...
10:28:55 PM [express] GET /api/messages/conversations2 200 in 57ms :: {"requested":[{"chatId":"230283bf-5565-4117-912a-a0448016a2bd","type":"private","status":"requested","source":"[filtered]","lastMessage":"[filtered]","unreadCount":1}],"private":[{"chatId":"5211d62...
10:28:55 PM [express] POST /api/messages2 401 in 5ms :: {"message":"Access token required"}
10:28:55 PM [express] POST /api/messages2 400 in 25ms :: {"message":"chatId or receiverId and text are required"}
10:28:55 PM [express] GET /api/messages2/5211d620-8e85-4791-b9d9-f66fc7d6fac1 403 in 49ms :: {"message":"Not a participant of this chat"}
10:28:55 PM [express] GET /api/messages/conversations2 401 in 2ms :: {"message":"Access token required"}
10:28:55 PM [express] GET /api/messages2/5211d620-8e85-4791-b9d9-f66fc7d6fac1 200 in 112ms :: [{"id":"7a6da79b-015e-4eff-8c93-d6d84e915ba8","chatId":"5211d620-8e85-4791-b9d9-f66fc7d6fac1","senderId":"7230726e-9637-441e-86c2-d8fd75d90e02","text":"Hi Alice! I would like to join your trip!","t...
10:30:11 PM [express] POST /api/auth/register 201 in 264ms :: {"message":"User created successfully"}
10:30:11 PM [express] POST /api/auth/login 200 in 247ms :: {"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJkZWM0NWE2NS1jNjk0LTQyYjAtOWU1NC1mNmFjNGZkZmM3MWUiLCJlbWFpbCI6ImFsaWNlMTc2Mzc1NzAxMTI0NEB0ZXN0LmNvbSIsImlhdCI6MTc2Mzc1NzAxMSwiZXhw...
10:30:12 PM [express] POST /api/auth/register 201 in 248ms :: {"message":"User created successfully"}
10:30:12 PM [express] POST /api/auth/login 200 in 240ms :: {"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJjNzRhOWEyMS04NjY3LTQ0NDQtYjA2OS0zNjE4MTUwNjc3NDciLCJlbWFpbCI6ImJvYjE3NjM3NTcwMTEyNDRAdGVzdC5jb20iLCJpYXQiOjE3NjM3NTcwMTIsImV4cCI6...
10:30:12 PM [express] POST /api/auth/register 201 in 250ms :: {"message":"User created successfully"}
10:30:12 PM [express] POST /api/auth/login 200 in 263ms :: {"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiI4ZmFlNmVjNS01NjYwLTRhNGUtYTFmMS1mN2FhZjQ5NmNiNDAiLCJlbWFpbCI6ImNoYXJsaWUxNzYzNzU3MDExMjQ0QHRlc3QuY29tIiwiaWF0IjoxNzYzNzU3MDEyLCJl...
10:30:12 PM [express] POST /api/auth/register 400 in 3ms :: {"message":"User with this email already exists"}
10:30:12 PM [express] POST /api/auth/register 400 in 1ms :: {"message":"Validation error","errors":[{"field":"email","message":"Invalid email format"}]}
10:30:12 PM [express] POST /api/auth/register 400 in 0ms :: {"message":"Validation error","errors":[{"field":"password","message":"Password must be at least 6 characters"}]}
10:30:13 PM [express] POST /api/auth/login 400 in 242ms :: {"message":"Invalid credentials"}
10:30:13 PM [express] POST /api/auth/login 400 in 3ms :: {"message":"Invalid credentials"}
10:30:13 PM [express] POST /api/auth/login 400 in 1ms :: {"message":"Validation error","errors":[{"field":"password","message":"Required"}]}
10:30:13 PM [express] GET /api/users/me 200 in 5ms :: {"id":"dec45a65-c694-42b0-9e54-f6ac4fdfc71e","name":"Alice Test","email":"[filtered]","avatarUrl":null,"avatarThumbnailUrl":null,"age":null,"city":null,"phone":"[filtered]","bio":null,"languages":n...
10:30:13 PM [express] GET /api/users/me 200 in 5ms :: {"id":"c74a9a21-8667-4444-b069-361815067747","name":"Bob Test","email":"[filtered]","avatarUrl":null,"avatarThumbnailUrl":null,"age":null,"city":null,"phone":"[filtered]","bio":null,"languages":nul...
10:30:13 PM [express] GET /api/users/me 200 in 7ms :: {"id":"8fae6ec5-5660-4a4e-a1f1-f7aaf496cb40","name":"Charlie Test","email":"[filtered]","avatarUrl":null,"avatarThumbnailUrl":null,"age":null,"city":null,"phone":"[filtered]","bio":null,"languages"...
10:30:13 PM [express] GET /api/users/me 401 in 3ms :: {"message":"Access token required"}
10:30:13 PM [express] GET /api/users/me 401 in 0ms :: {"message":"Invalid or expired token"}
10:30:13 PM [express] PATCH /api/users/profile 200 in 37ms :: {"id":"dec45a65-c694-42b0-9e54-f6ac4fdfc71e","name":"Alice Test","email":"[filtered]","avatarUrl":null,"avatarThumbnailUrl":null,"age":28,"city":"Kyiv","phone":"[filtered]","bio":"I love hiking and...
10:30:13 PM [express] PATCH /api/users/profile 200 in 30ms :: {"id":"c74a9a21-8667-4444-b069-361815067747","name":"Bob Test","email":"[filtered]","avatarUrl":null,"avatarThumbnailUrl":null,"age":25,"city":"Lviv","phone":"[filtered]","bio":"Adventure seeker","...
10:30:13 PM [express] PATCH /api/users/profile 401 in 5ms :: {"message":"Access token required"}
Error creating avatar thumbnail: Error: pngload_buffer: libspng read error
    at Sharp.toBuffer (/home/maksidd/Documents/projects/wayzer4/node_modules/sharp/lib/output.js:163:17)
    at createAvatarThumbnailBuffer (/home/maksidd/Documents/projects/wayzer4/server/middleware/upload.ts:54:8)
    at <anonymous> (/home/maksidd/Documents/projects/wayzer4/server/routes/users.ts:94:43)
    at Layer.handle [as handle_request] (/home/maksidd/Documents/projects/wayzer4/node_modules/express/lib/router/layer.js:95:5)
    at next (/home/maksidd/Documents/projects/wayzer4/node_modules/express/lib/router/route.js:149:13)
    at done (/home/maksidd/Documents/projects/wayzer4/node_modules/multer/lib/make-middleware.js:59:7)
    at indicateDone (/home/maksidd/Documents/projects/wayzer4/node_modules/multer/lib/make-middleware.js:63:68)
    at Multipart.<anonymous> (/home/maksidd/Documents/projects/wayzer4/node_modules/multer/lib/make-middleware.js:182:7)
    at Multipart.emit (node:events:517:28)
    at emitCloseNT (node:internal/streams/destroy:132:10)
10:30:14 PM [express] POST /api/users/avatar 200 in 877ms :: {"message":"Avatar uploaded successfully","avatarUrl":"https://pub-44e6035f5a5044aebecc85349eb121ab.r2.dev/avatars/dec45a65-c694-42b0-9e54-f6ac4fdfc71e_d7dacd57b905bdca6847287a3b1e6727.png","avatar...
10:30:15 PM [express] POST /api/users/photos 200 in 806ms :: {"message":"Photos uploaded successfully","photoUrls":["https://pub-44e6035f5a5044aebecc85349eb121ab.r2.dev/photos/dec45a65-c694-42b0-9e54-f6ac4fdfc71e_679834a299a7f64f1f6cb788fbecf613.jpg"],"user"...
10:30:15 PM [express] GET /api/users/dec45a65-c694-42b0-9e54-f6ac4fdfc71e 200 in 2ms :: {"id":"dec45a65-c694-42b0-9e54-f6ac4fdfc71e","name":"Alice Test","avatarUrl":"https://pub-44e6035f5a5044aebecc85349eb121ab.r2.dev/avatars/dec45a65-c694-42b0-9e54-f6ac4fdfc71e_d7dacd57b905bdca684728...
10:30:15 PM [express] GET /api/users/00000000-0000-0000-0000-000000000000 404 in 5ms :: {"message":"User not found"}
10:30:15 PM [express] DELETE /api/users/photos/dec45a65-c694-42b0-9e54-f6ac4fdfc71e_679834a299a7f64f1f6cb788fbecf613.jpg 200 in 52ms :: {"message":"Photo deleted successfully","user":{"id":"dec45a65-c694-42b0-9e54-f6ac4fdfc71e","name":"Alice Test","email":"[filtered]","avatarUrl":"https://pub-44e6035f5a5044aebecc85349eb121ab.r2.dev...
10:30:15 PM [express] GET /api/trip-types 200 in 13ms :: [{"id":"walk","ordering":1},{"id":"car","ordering":2},{"id":"motorcycle","ordering":3}]
10:30:15 PM [express] GET /api/cities 200 in 7ms :: [{"id":210,"name":"New York City","priority":100},{"id":211,"name":"Los Angeles","priority":95},{"id":212,"name":"Chicago","priority":90}]
10:30:15 PM [express] GET /api/cities 200 in 10ms :: []
10:30:15 PM [express] GET /api/cities 200 in 18ms :: [{"id":210,"name":"New York City","priority":100},{"id":211,"name":"Los Angeles","priority":95},{"id":212,"name":"Chicago","priority":90}]
10:30:16 PM [express] POST /api/trips/upload-main-photo 200 in 1116ms :: {"message":"Photo uploaded successfully","photoUrl":"https://pub-44e6035f5a5044aebecc85349eb121ab.r2.dev/photos/dec45a65-c694-42b0-9e54-f6ac4fdfc71e_b453ee741d8f3e781d07a5c150915854.jpg"}
10:30:16 PM [express] POST /api/trips 201 in 81ms :: {"id":"2908a262-6d9d-4a44-95d9-64e5a855d4ba","title":"Mountain Hiking Adventure","description":"Join us for an amazing hike in the Carpathians!","type":"mountains","city":"Ivano-Frankivsk","locatio...
10:30:16 PM [express] POST /api/trips 201 in 72ms :: {"id":"881c5cc2-0d28-47ba-a241-b3fe4daa5d4f","title":"City Walk in Kyiv","description":"Explore the beautiful streets of Kyiv","type":"walk","city":"Kyiv","location":{"lat":50.4501,"lng":30.5234},"...
10:30:16 PM [express] POST /api/trips 401 in 0ms :: {"message":"Access token required"}
10:30:16 PM [express] POST /api/trips 400 in 19ms :: {"message":"Validation error","errors":[{"field":"description","message":"Required"},{"field":"type","message":"Required"},{"field":"city","message":"Required"}]}
10:30:16 PM [express] GET /api/trips 200 in 163ms :: [{"id":"881c5cc2-0d28-47ba-a241-b3fe4daa5d4f","title":"City Walk in Kyiv","description":"Explore the beautiful streets of Kyiv","type":"walk","city":"Kyiv","location":{"lat":50.4501,"lng":30.5234},...
10:30:16 PM [express] GET /api/trips 200 in 9ms :: [{"id":"2908a262-6d9d-4a44-95d9-64e5a855d4ba","title":"Mountain Hiking Adventure","description":"Join us for an amazing hike in the Carpathians!","type":"mountains","city":"Ivano-Frankivsk","locati...
10:30:16 PM [express] GET /api/trips 200 in 24ms :: [{"id":"881c5cc2-0d28-47ba-a241-b3fe4daa5d4f","title":"City Walk in Kyiv","description":"Explore the beautiful streets of Kyiv","type":"walk","city":"Kyiv","location":{"lat":50.4501,"lng":30.5234},...
10:30:16 PM [express] GET /api/trips 200 in 23ms :: [{"id":"881c5cc2-0d28-47ba-a241-b3fe4daa5d4f","title":"City Walk in Kyiv","description":"Explore the beautiful streets of Kyiv","type":"walk","city":"Kyiv","location":{"lat":50.4501,"lng":30.5234},...
10:30:16 PM [express] GET /api/trips/2908a262-6d9d-4a44-95d9-64e5a855d4ba 200 in 13ms :: {"id":"2908a262-6d9d-4a44-95d9-64e5a855d4ba","title":"Mountain Hiking Adventure","description":"Join us for an amazing hike in the Carpathians!","type":"mountains","city":"Ivano-Frankivsk","locatio...
10:30:16 PM [express] GET /api/trips/00000000-0000-0000-0000-000000000000 404 in 18ms :: {"message":"Trip not found"}
10:30:16 PM [express] GET /api/trips/2908a262-6d9d-4a44-95d9-64e5a855d4ba/status 200 in 14ms :: {"status":"approved"}
10:30:17 PM [express] POST /api/trips/2908a262-6d9d-4a44-95d9-64e5a855d4ba/photos 200 in 794ms :: {"message":"Photos uploaded and added to trip successfully","photoUrls":["https://pub-44e6035f5a5044aebecc85349eb121ab.r2.dev/photos/dec45a65-c694-42b0-9e54-f6ac4fdfc71e_aede8fa0bd588a9f432c1fa53f8...
10:30:17 PM [express] GET /api/trips/2908a262-6d9d-4a44-95d9-64e5a855d4ba/participants 200 in 14ms :: [{"id":"dec45a65-c694-42b0-9e54-f6ac4fdfc71e","name":"Alice Test","email":"[filtered]","avatarUrl":"https://pub-44e6035f5a5044aebecc85349eb121ab.r2.dev/avatars/dec45a65-c694-42b0-9e54-f6ac4fdfc71e_...
10:30:17 PM [express] POST /api/trips2/2908a262-6d9d-4a44-95d9-64e5a855d4ba/join 200 in 37ms :: {"message":"Trip application submitted","status":"pending"}
10:30:17 PM [express] GET /api/trips/2908a262-6d9d-4a44-95d9-64e5a855d4ba/status 200 in 27ms :: {"status":"pending"}
10:30:17 PM [express] GET /api/trips/2908a262-6d9d-4a44-95d9-64e5a855d4ba/status/c74a9a21-8667-4444-b069-361815067747 200 in 30ms :: {"status":"pending"}
10:30:17 PM [express] POST /api/trips/2908a262-6d9d-4a44-95d9-64e5a855d4ba/accept/c74a9a21-8667-4444-b069-361815067747 200 in 130ms :: {"message":"Request accepted"}
10:30:17 PM [express] GET /api/trips/2908a262-6d9d-4a44-95d9-64e5a855d4ba/status 200 in 7ms :: {"status":"approved"}
10:30:17 PM [express] POST /api/trips2/2908a262-6d9d-4a44-95d9-64e5a855d4ba/join 200 in 27ms :: {"message":"Trip application submitted","status":"pending"}
10:30:17 PM [express] POST /api/trips/2908a262-6d9d-4a44-95d9-64e5a855d4ba/reject/8fae6ec5-5660-4a4e-a1f1-f7aaf496cb40 200 in 38ms :: {"message":"Request rejected"}
10:30:18 PM [express] DELETE /api/trips/2908a262-6d9d-4a44-95d9-64e5a855d4ba/leave 200 in 20ms :: {"message":"Successfully left trip"}
10:30:18 PM [express] POST /api/trips2/2908a262-6d9d-4a44-95d9-64e5a855d4ba/join 401 in 1ms :: {"message":"Access token required"}
10:30:18 PM [express] POST /api/trips2/2908a262-6d9d-4a44-95d9-64e5a855d4ba/join 200 in 47ms :: {"message":"Trip application submitted","status":"pending"}
10:30:18 PM [express] POST /api/trips/2908a262-6d9d-4a44-95d9-64e5a855d4ba/accept/c74a9a21-8667-4444-b069-361815067747 403 in 6ms :: {"message":"Only trip creator can accept requests"}
10:30:18 PM [express] POST /api/favorites/2908a262-6d9d-4a44-95d9-64e5a855d4ba 201 in 14ms :: {"message":"Added to favorites"}
10:30:18 PM [express] GET /api/favorites/2908a262-6d9d-4a44-95d9-64e5a855d4ba/status 200 in 6ms :: {"isFavorite":true}
10:30:18 PM [express] GET /api/favorites 200 in 15ms :: [{"id":"2908a262-6d9d-4a44-95d9-64e5a855d4ba","title":"Mountain Hiking Adventure","description":"Join us for an amazing hike in the Carpathians!","city":"Ivano-Frankivsk","location":{"lat":48.9226,...
10:30:18 PM [express] POST /api/favorites/881c5cc2-0d28-47ba-a241-b3fe4daa5d4f 201 in 34ms :: {"message":"Added to favorites"}
10:30:18 PM [express] DELETE /api/favorites/2908a262-6d9d-4a44-95d9-64e5a855d4ba 200 in 10ms :: {"message":"Removed from favorites"}
10:30:18 PM [express] GET /api/favorites/2908a262-6d9d-4a44-95d9-64e5a855d4ba/status 200 in 18ms :: {"isFavorite":false}
10:30:18 PM [express] POST /api/favorites/2908a262-6d9d-4a44-95d9-64e5a855d4ba 401 in 0ms :: {"message":"Access token required"}
10:30:18 PM [express] POST /api/favorites/00000000-0000-0000-0000-000000000000 404 in 13ms :: {"message":"Trip not found"}
10:30:18 PM [express] GET /api/my-trips 200 in 89ms :: []
10:30:18 PM [express] GET /api/my-trips 200 in 78ms :: [{"id":"2908a262-6d9d-4a44-95d9-64e5a855d4ba","title":"Mountain Hiking Adventure","description":"Join us for an amazing hike in the Carpathians!","type":"mountains","city":"Ivano-Frankivsk","locati...
10:30:18 PM [express] GET /api/my-trips 401 in 0ms :: {"message":"Access token required"}
10:30:18 PM [express] POST /api/messages2 201 in 48ms :: {"id":"563dbc8b-d761-4d2d-8a8c-04d0f0daeb4e","chatId":"322880f7-2c38-484e-a5f5-96877d0ce7f4","senderId":"c74a9a21-8667-4444-b069-361815067747","text":"Hi Alice! I would like to join your trip!","ty...
10:30:18 PM [express] GET /api/messages/conversations2 200 in 7ms :: {"requested":[],"private":[{"chatId":"322880f7-2c38-484e-a5f5-96877d0ce7f4","type":"private","status":"active","source":"[filtered]","lastMessage":"[filtered]","unreadCount":1}],"public":[{"chatId"...
10:30:18 PM [express] GET /api/messages/conversations2 200 in 10ms :: {"requested":[],"private":[{"chatId":"322880f7-2c38-484e-a5f5-96877d0ce7f4","type":"private","status":"active","source":"[filtered]","lastMessage":"[filtered]","unreadCount":0}],"public":[{"chatId"...
10:30:18 PM [express] GET /api/messages2/322880f7-2c38-484e-a5f5-96877d0ce7f4 200 in 79ms :: [{"id":"563dbc8b-d761-4d2d-8a8c-04d0f0daeb4e","chatId":"322880f7-2c38-484e-a5f5-96877d0ce7f4","senderId":"c74a9a21-8667-4444-b069-361815067747","text":"Hi Alice! I would like to join your trip!","t...
10:30:18 PM [express] GET /api/messages/conversations2 200 in 10ms :: {"requested":[],"private":[{"chatId":"322880f7-2c38-484e-a5f5-96877d0ce7f4","type":"private","status":"active","source":"[filtered]","lastMessage":"[filtered]","unreadCount":0}],"public":[{"chatId"...
10:30:18 PM [express] POST /api/messages2 201 in 27ms :: {"id":"27136a76-dd1b-411a-b86d-362767ea6ebd","chatId":"322880f7-2c38-484e-a5f5-96877d0ce7f4","senderId":"dec45a65-c694-42b0-9e54-f6ac4fdfc71e","text":"Hi Bob! Sure, I would be happy to have you joi...
10:30:18 PM [express] GET /api/messages/conversations2 200 in 13ms :: {"requested":[],"private":[{"chatId":"322880f7-2c38-484e-a5f5-96877d0ce7f4","type":"private","status":"active","source":"[filtered]","lastMessage":"[filtered]","unreadCount":1}],"public":[{"chatId"...
10:30:18 PM [express] POST /api/messages2 201 in 30ms :: {"id":"9fd0b8bb-753a-4e3e-a629-5f35bd46dbe3","chatId":"322880f7-2c38-484e-a5f5-96877d0ce7f4","senderId":"dec45a65-c694-42b0-9e54-f6ac4fdfc71e","text":"By the way, don't forget to bring hiking boots...
10:30:18 PM [express] POST /api/messages2 201 in 26ms :: {"id":"209cc453-d002-43f1-a19a-dad1bd09071a","chatId":"322880f7-2c38-484e-a5f5-96877d0ce7f4","senderId":"dec45a65-c694-42b0-9e54-f6ac4fdfc71e","text":"And water bottles!","type":"general","tripId":...
10:30:18 PM [express] POST /api/messages2 201 in 14ms :: {"id":"c4efaa2f-56f5-4e03-8a15-56cb5f06336b","chatId":"322880f7-2c38-484e-a5f5-96877d0ce7f4","senderId":"dec45a65-c694-42b0-9e54-f6ac4fdfc71e","text":"See you there! ðŸ˜Š","type":"general","tripId":n...
10:30:18 PM [express] GET /api/messages/conversations2 200 in 7ms :: {"requested":[],"private":[{"chatId":"322880f7-2c38-484e-a5f5-96877d0ce7f4","type":"private","status":"active","source":"[filtered]","lastMessage":"[filtered]","unreadCount":4}],"public":[{"chatId"...
10:30:18 PM [express] POST /api/messages/mark-unread 204 in 10ms
10:30:18 PM [express] POST /api/messages2 201 in 56ms :: {"id":"05fded93-df9f-47b1-a263-5b4a09d0e7b4","chatId":"4f2430b5-f4e3-46b7-a896-15317e9a874b","senderId":"8fae6ec5-5660-4a4e-a1f1-f7aaf496cb40","text":"Hello Alice! Can you recommend good hiking spo...
10:30:18 PM [express] GET /api/messages/conversations2 200 in 14ms :: {"requested":[{"chatId":"4f2430b5-f4e3-46b7-a896-15317e9a874b","type":"private","status":"requested","source":"[filtered]","lastMessage":"[filtered]","unreadCount":1}],"private":[{"chatId":"322880f...
10:30:18 PM [express] POST /api/messages2 401 in 1ms :: {"message":"Access token required"}
10:30:18 PM [express] POST /api/messages2 400 in 14ms :: {"message":"chatId or receiverId and text are required"}
10:30:18 PM [express] GET /api/messages2/322880f7-2c38-484e-a5f5-96877d0ce7f4 403 in 10ms :: {"message":"Not a participant of this chat"}
10:30:18 PM [express] GET /api/messages/conversations2 401 in 6ms :: {"message":"Access token required"}
10:30:18 PM [express] GET /api/messages2/322880f7-2c38-484e-a5f5-96877d0ce7f4 200 in 56ms :: [{"id":"563dbc8b-d761-4d2d-8a8c-04d0f0daeb4e","chatId":"322880f7-2c38-484e-a5f5-96877d0ce7f4","senderId":"c74a9a21-8667-4444-b069-361815067747","text":"Hi Alice! I would like to join your trip!","t...
